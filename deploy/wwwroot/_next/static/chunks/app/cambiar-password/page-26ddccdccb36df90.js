(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3404],{20538:function(e,r,a){Promise.resolve().then(a.bind(a,93200))},93200:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return d}});var t=a(57437),s=a(2265),o=a(99376),n=a(71245),l=a(12025),c=a(71837),i=a(69064);function d(){var e;let r;let{user:a,updateUser:d,logout:u}=(0,n.a)(),{theme:m,toggleTheme:h}=(0,l.F)(),x=(0,o.useRouter)(),[w,f]=(0,s.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[g,b]=(0,s.useState)({}),[p,v]=(0,s.useState)(!1),[y,j]=(0,s.useState)(!1),[k,P]=(0,s.useState)(!1),[N,C]=(0,s.useState)(!1),L=(null==a?void 0:a.requiereCambioPassword)===!0,M=(e=w.newPassword,r=0,(e.length>=8&&r++,/[A-Z]/.test(e)&&r++,/[a-z]/.test(e)&&r++,/[0-9]/.test(e)&&r++,/[^A-Za-z0-9]/.test(e)&&r++,r<=2)?{strength:r,label:"Debil",color:"bg-red-500"}:r<=3?{strength:r,label:"Moderada",color:"bg-yellow-500"}:r<=4?{strength:r,label:"Buena",color:"bg-blue-500"}:{strength:r,label:"Excelente",color:"bg-green-500"}),z=()=>{let e={};return w.currentPassword||(e.currentPassword=L?"Ingrese la contrase\xf1a temporal que recibi\xf3":"La contrase\xf1a actual es requerida"),w.newPassword?w.newPassword.length<8?e.newPassword="La contrase\xf1a debe tener al menos 8 caracteres":/[A-Z]/.test(w.newPassword)?/[a-z]/.test(w.newPassword)?/[0-9]/.test(w.newPassword)||(e.newPassword="La contrase\xf1a debe contener al menos un numero"):e.newPassword="La contrase\xf1a debe contener al menos una minuscula":e.newPassword="La contrase\xf1a debe contener al menos una mayuscula":e.newPassword="La nueva contrase\xf1a es requerida",w.confirmPassword?w.newPassword!==w.confirmPassword&&(e.confirmPassword="Las contrase\xf1as no coinciden"):e.confirmPassword="Debe confirmar la nueva contrase\xf1a",w.currentPassword&&w.newPassword===w.currentPassword&&(e.newPassword="La nueva contrase\xf1a debe ser diferente a la actual"),b(e),0===Object.keys(e).length},S=e=>{let{name:r,value:a}=e.target;f(e=>({...e,[r]:a})),g[r]&&b(e=>{let a={...e};return delete a[r],a})},A=async e=>{if(e.preventDefault(),z()){v(!0);try{if(await c.ZP.post("/auth/cambiar-password",w),a&&d({...a,requiereCambioPassword:!1}),i.ZP.success("Contrase\xf1a actualizada exitosamente"),a)switch(a.rol){case"Admin":x.push("/admin/dashboard");break;case"Empleado":x.push("/empleado/dashboard");break;case"Cliente":x.push("/cliente/tickets");break;default:x.push("/")}}catch(a){var r,t,s;let e=(null===(t=a.response)||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:r.message)||"Error al cambiar la contrase\xf1a";i.ZP.error(e),(null===(s=a.response)||void 0===s?void 0:s.status)===401&&b({currentPassword:"La contrase\xf1a actual es incorrecta"})}finally{v(!1)}}};return(0,s.useEffect)(()=>{if(L){let e=e=>{e.preventDefault(),e.returnValue=""};return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)}},[L]),(0,t.jsxs)("div",{className:"min-h-screen flex flex-col ".concat("dark"===m?"bg-gray-900":"bg-gray-50"),children:[(0,t.jsx)("header",{className:"".concat("dark"===m?"bg-gray-800 border-gray-700":"bg-white border-gray-200"," border-b"),children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)("span",{className:"text-xl font-bold text-blue-600",children:"MDAyuda"})}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("button",{onClick:h,className:"p-2 rounded-md ".concat("dark"===m?"text-gray-300 hover:bg-gray-700":"text-gray-500 hover:bg-gray-100"),"aria-label":"dark"===m?"Cambiar a modo claro":"Cambiar a modo oscuro",children:"dark"===m?(0,t.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"})}):(0,t.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:(0,t.jsx)("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})})}),!L&&(0,t.jsx)("button",{onClick:u,className:"text-sm ".concat("dark"===m?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-900"),children:"Cerrar sesion"})]})]})})}),(0,t.jsx)("main",{className:"flex-1 flex items-center justify-center px-4 py-12",children:(0,t.jsxs)("div",{className:"max-w-md w-full space-y-8 ".concat("dark"===m?"bg-gray-800":"bg-white"," p-8 rounded-lg shadow-lg"),children:[L&&(0,t.jsx)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6",role:"alert",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M8.485 2.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 2.495zM10 5a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 0110 5zm0 9a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})}),(0,t.jsx)("div",{className:"ml-3",children:(0,t.jsxs)("p",{className:"text-sm text-yellow-700",children:[(0,t.jsx)("strong",{children:"Cambio de contrase\xf1a obligatorio."})," Por seguridad, debe cambiar su contrase\xf1a temporal antes de continuar."]})})]})}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold ".concat("dark"===m?"text-white":"text-gray-900"),children:L?"Establecer Nueva Contrase\xf1a":"Cambiar Contrase\xf1a"}),(0,t.jsx)("p",{className:"mt-2 text-sm ".concat("dark"===m?"text-gray-400":"text-gray-600"),children:L?"Cree una contrase\xf1a segura para su cuenta":"Actualice su contrase\xf1a para mantener su cuenta segura"})]}),(0,t.jsxs)("form",{onSubmit:A,className:"mt-8 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"currentPassword",className:"block text-sm font-medium ".concat("dark"===m?"text-gray-300":"text-gray-700"),children:L?"Contrase\xf1a temporal":"Contrase\xf1a actual"}),(0,t.jsxs)("div",{className:"mt-1 relative",children:[(0,t.jsx)("input",{id:"currentPassword",name:"currentPassword",type:y?"text":"password",value:w.currentPassword,onChange:S,className:"appearance-none block w-full px-3 py-2 border rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ".concat(g.currentPassword?"border-red-300 text-red-900":"dark"===m?"border-gray-600 bg-gray-700 text-white":"border-gray-300"),"aria-invalid":g.currentPassword?"true":"false","aria-describedby":g.currentPassword?"currentPassword-error":void 0}),(0,t.jsx)("button",{type:"button",onClick:()=>j(!y),className:"absolute inset-y-0 right-0 pr-3 flex items-center","aria-label":y?"Ocultar contrase\xf1a":"Mostrar contrase\xf1a",children:y?(0,t.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):(0,t.jsxs)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),g.currentPassword&&(0,t.jsx)("p",{id:"currentPassword-error",className:"mt-1 text-sm text-red-600",role:"alert",children:g.currentPassword})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"newPassword",className:"block text-sm font-medium ".concat("dark"===m?"text-gray-300":"text-gray-700"),children:"Nueva contrase\xf1a"}),(0,t.jsxs)("div",{className:"mt-1 relative",children:[(0,t.jsx)("input",{id:"newPassword",name:"newPassword",type:k?"text":"password",value:w.newPassword,onChange:S,className:"appearance-none block w-full px-3 py-2 border rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ".concat(g.newPassword?"border-red-300 text-red-900":"dark"===m?"border-gray-600 bg-gray-700 text-white":"border-gray-300"),"aria-invalid":g.newPassword?"true":"false","aria-describedby":g.newPassword?"newPassword-error":"password-requirements"}),(0,t.jsx)("button",{type:"button",onClick:()=>P(!k),className:"absolute inset-y-0 right-0 pr-3 flex items-center","aria-label":k?"Ocultar contrase\xf1a":"Mostrar contrase\xf1a",children:k?(0,t.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):(0,t.jsxs)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),g.newPassword?(0,t.jsx)("p",{id:"newPassword-error",className:"mt-1 text-sm text-red-600",role:"alert",children:g.newPassword}):(0,t.jsxs)("div",{id:"password-requirements",className:"mt-2",children:[(0,t.jsx)("p",{className:"text-xs ".concat("dark"===m?"text-gray-400":"text-gray-500"),children:"Requisitos: minimo 8 caracteres, una mayuscula, una minuscula y un numero"}),w.newPassword&&(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full ".concat(M.color," transition-all"),style:{width:"".concat(M.strength/5*100,"%")}})}),(0,t.jsx)("span",{className:"text-xs font-medium ".concat("dark"===m?"text-gray-400":"text-gray-600"),children:M.label})]})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium ".concat("dark"===m?"text-gray-300":"text-gray-700"),children:"Confirmar nueva contrase\xf1a"}),(0,t.jsxs)("div",{className:"mt-1 relative",children:[(0,t.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:N?"text":"password",value:w.confirmPassword,onChange:S,className:"appearance-none block w-full px-3 py-2 border rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ".concat(g.confirmPassword?"border-red-300 text-red-900":"dark"===m?"border-gray-600 bg-gray-700 text-white":"border-gray-300"),"aria-invalid":g.confirmPassword?"true":"false","aria-describedby":g.confirmPassword?"confirmPassword-error":void 0}),(0,t.jsx)("button",{type:"button",onClick:()=>C(!N),className:"absolute inset-y-0 right-0 pr-3 flex items-center","aria-label":N?"Ocultar contrase\xf1a":"Mostrar contrase\xf1a",children:N?(0,t.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):(0,t.jsxs)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),g.confirmPassword&&(0,t.jsx)("p",{id:"confirmPassword-error",className:"mt-1 text-sm text-red-600",role:"alert",children:g.confirmPassword}),w.confirmPassword&&!g.confirmPassword&&w.newPassword===w.confirmPassword&&(0,t.jsxs)("p",{className:"mt-1 text-sm text-green-600 flex items-center",children:[(0,t.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Las contrase\xf1as coinciden"]})]}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{type:"submit",disabled:p,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed ".concat("dark"===m?"focus:ring-offset-gray-800":""),children:p?(0,t.jsxs)("span",{className:"flex items-center",children:[(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Actualizando..."]}):L?"Establecer contrase\xf1a":"Actualizar contrase\xf1a"})}),!L&&(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("button",{type:"button",onClick:()=>x.back(),className:"text-sm ".concat("dark"===m?"text-gray-400 hover:text-gray-300":"text-gray-600 hover:text-gray-900"),children:"Cancelar y volver"})})]})]})})]})}},71245:function(e,r,a){"use strict";a.d(r,{H:function(){return i},a:function(){return d}});var t=a(57437),s=a(2265),o=a(99376),n=a(71837),l=a(69064);let c=(0,s.createContext)(void 0);function i(e){let{children:r}=e,[a,i]=(0,s.useState)(null),[d,u]=(0,s.useState)(!0),m=(0,o.useRouter)();(0,s.useEffect)(()=>{h()},[]);let h=async()=>{try{let e=localStorage.getItem("token");if(!e){u(!1);return}let r=localStorage.getItem("demo_user");if(e.startsWith("demo-token-")&&r){let e=JSON.parse(r);i(e),u(!1);return}let a=await n.ZP.get("/auth/me");i(a.data)}catch(r){let e=localStorage.getItem("demo_user");if(e)try{let r=JSON.parse(e);i(r),u(!1);return}catch(e){}localStorage.removeItem("token"),localStorage.removeItem("demo_user")}finally{u(!1)}},x=async(e,r)=>{try{let{token:a,user:t}=(await n.ZP.post("/auth/login",e)).data;if(localStorage.setItem("token",a),i(t),t.requiereCambioPassword){m.push("/cambiar-password");return}if(r&&w(r,t.rol)){m.push(r),l.ZP.success("Bienvenido, ".concat(t.nombre));return}switch(t.rol){case"Admin":m.push("/admin/dashboard");break;case"Empleado":m.push("/empleado/dashboard");break;case"Cliente":m.push("/cliente/tickets")}l.ZP.success("Bienvenido, ".concat(t.nombre))}catch(r){var a,t;let e=(null===(t=r.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message)||"Error al iniciar sesion";throw l.ZP.error(e),r}},w=(e,r)=>"Admin"===r||("Empleado"===r?e.startsWith("/empleado/")||e.startsWith("/admin/tickets"):"Cliente"===r&&e.startsWith("/cliente/")),f=async()=>{try{let e=localStorage.getItem("token");(null==e?void 0:e.startsWith("demo-token-"))||await n.ZP.post("/auth/logout")}catch(e){}finally{localStorage.removeItem("token"),localStorage.removeItem("demo_user"),i(null),m.push("/login"),l.ZP.success("Sesion cerrada")}};return(0,t.jsx)(c.Provider,{value:{user:a,isLoading:d,login:x,logout:f,updateUser:e=>{i(e)}},children:r})}function d(){let e=(0,s.useContext)(c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},12025:function(e,r,a){"use strict";a.d(r,{F:function(){return l},f:function(){return n}});var t=a(57437),s=a(2265);let o=(0,s.createContext)(void 0);function n(e){let{children:r}=e,[a,n]=(0,s.useState)("light"),[l,c]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{c(!0);let e=localStorage.getItem("theme");e?n(e):window.matchMedia("(prefers-color-scheme: dark)").matches&&n("dark")},[]),(0,s.useEffect)(()=>{if(!l)return;let e=document.documentElement;"dark"===a?e.classList.add("dark"):e.classList.remove("dark"),localStorage.setItem("theme",a)},[a,l]),l)?(0,t.jsx)(o.Provider,{value:{theme:a,toggleTheme:()=>{n(e=>"light"===e?"dark":"light")},setTheme:e=>{n(e)}},children:r}):null}function l(){let e=(0,s.useContext)(o);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},71837:function(e,r,a){"use strict";var t=a(83464);let s=(()=>{{let e=window.location.hostname;return"localhost"===e||"127.0.0.1"===e?"http://localhost:5000/api":"/api"}})(),o=t.Z.create({baseURL:s,headers:{"Content-Type":"application/json"},timeout:3e4});o.interceptors.request.use(e=>{{let r=localStorage.getItem("token");r&&(e.headers.Authorization="Bearer ".concat(r))}return e},e=>Promise.reject(e)),o.interceptors.response.use(e=>e,e=>{if(e.response){let{status:r,data:a}=e.response;if(401===r){localStorage.removeItem("token");let e=window.location.pathname;e.includes("/login")||e.includes("/solicitar-registro")||(window.location.href="/login")}if(403===r&&console.error("Access forbidden:",null==a?void 0:a.message),400===r&&(null==a?void 0:a.errors)){let r=Object.values(a.errors).flat().join(", ");e.message=r||a.message||"Error de validacion"}}else e.request&&(e.message="Error de conexion. Verifica tu conexion a internet.");return Promise.reject(e)}),r.ZP=o}},function(e){e.O(0,[7859,3464,2971,2117,1744],function(){return e(e.s=20538)}),_N_E=e.O()}]);