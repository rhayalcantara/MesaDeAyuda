(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1266],{14188:function(e,a,t){Promise.resolve().then(t.bind(t,84450))},84450:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return d}});var r=t(57437),s=t(2265);function i(e){return new Intl.DateTimeFormat("es-ES",{dateStyle:"full",timeStyle:"long",timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone}).format(e)}function c(e){return e.toISOString()}function l(e){let a=new Date().getTime()-e.getTime(),t=Math.floor(a/1e3),r=Math.floor(a/6e4),s=Math.floor(a/36e5);return t<5?"ahora mismo":t<60?"hace ".concat(t," segundo").concat(1!==t?"s":""):r<60?"hace ".concat(r," minuto").concat(1!==r?"s":""):s<24?"hace ".concat(s," hora").concat(1!==s?"s":""):i(e)}function d(){let[e,a]=(0,s.useState)(new Date),[t,d]=(0,s.useState)(""),[n,o]=(0,s.useState)([]),[x,m]=(0,s.useState)(!1),[h,g]=(0,s.useState)(null),[u,p]=(0,s.useState)(""),[y,b]=(0,s.useState)(""),[j,k]=(0,s.useState)([]);(0,s.useEffect)(()=>{d(Intl.DateTimeFormat().resolvedOptions().timeZone);let e=setInterval(()=>{a(new Date)},1e3);return()=>clearInterval(e)},[]);let f=async()=>{m(!0);let e=new Date;await new Promise(e=>setTimeout(e,500));let a={id:n.length+1,titulo:"Test Ticket ".concat(n.length+1," - ").concat(e.toLocaleTimeString()),descripcion:"Este ticket fue creado para probar la precision de timestamps.",fechaCreacion:e,fechaActualizacion:e,historial:[{accion:"Ticket creado",fecha:e}]};o([...n,a]),m(!1);let t=Math.abs(new Date().getTime()-e.getTime()),r=t<2e3;k([...j,{step:"Paso 1 y 2: Crear ticket y verificar created_at",passed:r,details:"Ticket #".concat(a.id," creado. Tiempo de creacion: ").concat(c(e),". Diferencia con tiempo actual: ").concat(t,"ms. ").concat(r?"✅ CORRECTO":"❌ INCORRECTO")}])},N=e=>{g(e.id),p(e.titulo),b(e.descripcion)},w=async e=>{let a=new Date;await new Promise(e=>setTimeout(e,500)),o(n.map(t=>{if(t.id===e){let r=t.fechaActualizacion,s={...t,titulo:u,descripcion:y,fechaActualizacion:a,historial:[...t.historial,{accion:'Titulo editado a "'.concat(u,'"'),fecha:a}]},i=Math.abs(a.getTime()-new Date().getTime()),l=a.getTime()>r.getTime(),d=i<2e3&&l;return k(t=>[...t,{step:"Paso 3 y 4: Editar ticket #".concat(e," y verificar updated_at"),passed:d,details:"Ticket actualizado. Nuevo updated_at: ".concat(c(a),". Anterior: ").concat(c(r),". updated_at cambio: ").concat(l?"SI":"NO",". ").concat(d?"✅ CORRECTO":"❌ INCORRECTO")}]),s}return t})),g(null),p(""),b("")},v=()=>{g(null),p(""),b("")};return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8 px-4",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Feature #139: Created/Updated Timestamps Accurate"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Esta pagina demuestra que los timestamps de creacion y actualizacion son correctos y estan formateados apropiadamente."})]}),(0,r.jsxs)("div",{className:"mb-6 bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[(0,r.jsx)("h2",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Informacion de Tiempo Actual"}),(0,r.jsxs)("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Zona horaria:"})," ",t||"Cargando..."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Hora actual (local):"})," ",i(e)]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"ISO 8601:"})," ",c(e)]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Unix timestamp:"})," ",e.getTime()]})]})]}),(0,r.jsxs)("div",{className:"mb-6 bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Pasos de Prueba"}),(0,r.jsxs)("ol",{className:"list-decimal list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Paso 1:"})," Crear ticket en un momento conocido"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Paso 2:"})," Verificar que created_at coincide con el momento de creacion"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Paso 3:"})," Editar el ticket"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Paso 4:"})," Verificar que updated_at cambia al nuevo momento"]})]}),(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsx)("button",{onClick:f,disabled:x,className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:x?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creando..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),"Ejecutar Paso 1 y 2: Crear Ticket"]})})})]}),j.length>0&&(0,r.jsxs)("div",{className:"mb-6 bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Resultados de Prueba"}),(0,r.jsx)("div",{className:"space-y-3",children:j.map((e,a)=>(0,r.jsxs)("div",{className:"p-3 rounded-lg ".concat(e.passed?"bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800"),children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.jsx)("span",{className:"text-lg ".concat(e.passed?"text-green-600":"text-red-600"),children:e.passed?"✅":"❌"}),(0,r.jsx)("span",{className:"font-medium ".concat(e.passed?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"),children:e.step})]}),(0,r.jsx)("p",{className:"text-sm ".concat(e.passed?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"),children:e.details})]},a))})]}),n.length>0&&(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[(0,r.jsxs)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Tickets Creados (",n.length,")"]}),(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'Haz clic en "Editar" para ejecutar Paso 3 y 4'})]}),(0,r.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:n.map(e=>(0,r.jsx)("div",{className:"p-6",children:h===e.id?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Titulo"}),(0,r.jsx)("input",{type:"text",value:u,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Descripcion"}),(0,r.jsx)("textarea",{value:y,onChange:e=>b(e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>w(e.id),className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition-colors",children:"Guardar (Paso 3 y 4)"}),(0,r.jsx)("button",{onClick:v,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 font-medium rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancelar"})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"font-medium text-gray-900 dark:text-white",children:["Ticket #",e.id,": ",e.titulo]}),(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:e.descripcion})]}),(0,r.jsx)("button",{onClick:()=>N(e),className:"px-3 py-1 text-sm bg-yellow-100 dark:bg-yellow-900/50 text-yellow-800 dark:text-yellow-200 rounded-lg hover:bg-yellow-200 dark:hover:bg-yellow-900 transition-colors",children:"Editar"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1",children:"Fecha de Creacion (created_at)"}),(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:i(e.fechaCreacion)}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["ISO: ",c(e.fechaCreacion)]}),(0,r.jsx)("p",{className:"text-xs text-primary-600 dark:text-primary-400",children:l(e.fechaCreacion)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1",children:"Ultima Actualizacion (updated_at)"}),(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:i(e.fechaActualizacion)}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["ISO: ",c(e.fechaActualizacion)]}),(0,r.jsx)("p",{className:"text-xs text-primary-600 dark:text-primary-400",children:l(e.fechaActualizacion)})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2",children:"Historial de Cambios"}),(0,r.jsx)("div",{className:"space-y-2",children:e.historial.map((e,a)=>(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,r.jsx)("span",{className:"text-gray-400 dark:text-gray-500",children:"•"}),(0,r.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:e.accion}),(0,r.jsxs)("span",{className:"text-gray-500 dark:text-gray-400",children:["- ",l(e.fecha)]})]},a))})]})]})},e.id))})]}),(0,r.jsxs)("div",{className:"mt-6 bg-yellow-50 dark:bg-yellow-900/30 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200 mb-2",children:"Informacion de Demo - Feature #139"}),(0,r.jsxs)("ul",{className:"text-sm text-yellow-700 dark:text-yellow-300 space-y-1",children:[(0,r.jsx)("li",{children:"• Los timestamps se capturan en el momento exacto de la accion"}),(0,r.jsx)("li",{children:"• created_at se establece solo al crear y nunca cambia"}),(0,r.jsx)("li",{children:"• updated_at se actualiza cada vez que se edita el ticket"}),(0,r.jsx)("li",{children:"• Los timestamps se muestran en la zona horaria local del usuario"}),(0,r.jsx)("li",{children:"• El formato ISO 8601 se muestra para verificacion tecnica"}),(0,r.jsx)("li",{children:"• El historial registra cada cambio con su timestamp exacto"})]})]})]})})}}},function(e){e.O(0,[2971,2117,1744],function(){return e(e.s=14188)}),_N_E=e.O()}]);