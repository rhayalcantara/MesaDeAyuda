(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4816],{83424:function(e,a,r){Promise.resolve().then(r.bind(r,97383))},97383:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return l}});var t=r(57437),s=r(2265),i=r(27648);let d=[{id:1,nombre:"Sistema de Facturacion",descripcion:"Problemas con el modulo de facturacion",activa:!0,fechaCreacion:new Date(Date.now()-7776e6).toISOString()},{id:2,nombre:"Portal Web",descripcion:"Incidencias del portal web publico",activa:!0,fechaCreacion:new Date(Date.now()-6912e6).toISOString()},{id:3,nombre:"Aplicacion Movil",descripcion:"Soporte para la app movil",activa:!0,fechaCreacion:new Date(Date.now()-5184e6).toISOString()}];function l(){let[e,a]=(0,s.useState)(d),[r,l]=(0,s.useState)(!1),[c,n]=(0,s.useState)(""),[o,x]=(0,s.useState)(""),[m,g]=(0,s.useState)(""),[h,u]=(0,s.useState)(""),b=e.filter(e=>e.activa),p=r=>{a(e=>e.map(e=>e.id===r?{...e,activa:!e.activa}:e));let t=e.find(e=>e.id===r);t&&t.activa&&h===r.toString()&&u("")};return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8 px-4",children:[(0,t.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{children:[(0,t.jsx)(i.default,{href:"/demo",className:"text-sm text-primary-600 dark:text-primary-400 hover:underline mb-2 inline-block",children:"← Volver a Demo"}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Feature #90: Desactivar Categoria"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Verificar que las categorias desactivadas no aparecen en los dropdowns de tickets"})]})}),(0,t.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[(0,t.jsx)("h2",{className:"text-sm font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"Pasos para verificar:"}),(0,t.jsxs)("ol",{className:"list-decimal list-inside text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[(0,t.jsx)("li",{children:'Crea una nueva categoria usando el boton "Nueva Categoria" (ej: "DEACTIVATE_CAT_TEST")'}),(0,t.jsx)("li",{children:'Verifica que aparece en el dropdown "Categoria para Ticket" a la derecha'}),(0,t.jsx)("li",{children:'Haz clic en "Desactivar" para cambiar su estado'}),(0,t.jsx)("li",{children:"Verifica que la categoria ya NO aparece en el dropdown"}),(0,t.jsx)("li",{children:'Puedes "Activar" la categoria nuevamente y verificar que vuelve al dropdown'})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Gestion de Categorias (Admin)"}),(0,t.jsx)("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white text-sm font-medium rounded-lg transition-colors",children:"Nueva Categoria"})]}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("table",{className:"min-w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[(0,t.jsx)("th",{className:"text-left py-2 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Nombre"}),(0,t.jsx)("th",{className:"text-left py-2 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Estado"}),(0,t.jsx)("th",{className:"text-left py-2 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Acciones"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:e.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"py-3 text-sm text-gray-900 dark:text-white",children:e.nombre}),(0,t.jsx)("td",{className:"py-3",children:(0,t.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(e.activa?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"),children:e.activa?"Activa":"Inactiva"})}),(0,t.jsx)("td",{className:"py-3",children:(0,t.jsx)("button",{onClick:()=>p(e.id),className:"text-sm font-medium ".concat(e.activa?"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300":"text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300"),children:e.activa?"Desactivar":"Activar"})})]},e.id))})]}),0===e.length&&(0,t.jsx)("p",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No hay categorias. Crea una nueva."})]})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Formulario de Ticket (Cliente)"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Solo muestra categorias ACTIVAS"})]}),(0,t.jsxs)("div",{className:"p-4 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"ticket-cat",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Categoria para Ticket ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{id:"ticket-cat",value:h,onChange:e=>u(e.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"",children:"Seleccione una categoria"}),b.map(e=>(0,t.jsx)("option",{value:e.id,children:e.nombre},e.id))]}),(0,t.jsxs)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:[b.length," categoria(s) disponible(s) de ",e.length," total"]})]}),(0,t.jsxs)("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Categorias en el dropdown:"}),b.length>0?(0,t.jsx)("ul",{className:"space-y-1",children:b.map(e=>(0,t.jsxs)("li",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center gap-2",children:[(0,t.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.nombre]},e.id))}):(0,t.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:"No hay categorias activas"})]}),e.filter(e=>!e.activa).length>0&&(0,t.jsxs)("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-red-700 dark:text-red-300 mb-2",children:"Categorias DESACTIVADAS (no aparecen en dropdown):"}),(0,t.jsx)("ul",{className:"space-y-1",children:e.filter(e=>!e.activa).map(e=>(0,t.jsxs)("li",{className:"text-sm text-red-600 dark:text-red-400 flex items-center gap-2",children:[(0,t.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),e.nombre]},e.id))})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-800 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-green-800 dark:text-green-200 mb-2",children:"Estado de la verificacion:"}),(0,t.jsxs)("ul",{className:"text-sm text-green-700 dark:text-green-300 space-y-1",children:[(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:e.length>d.length?"text-green-600":"text-gray-400",children:e.length>d.length?"✓":"○"}),"Paso 2: Crear nueva categoria"]}),(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:e.some(e=>!e.activa)?"text-green-600":"text-gray-400",children:e.some(e=>!e.activa)?"✓":"○"}),"Paso 4: Desactivar una categoria"]}),(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:!b.some(e=>!d.some(a=>a.id===e.id))&&e.some(e=>!e.activa)?"text-green-600":"text-gray-400",children:e.some(e=>!e.activa)&&!b.some(a=>e.find(e=>e.id===a.id&&!e.activa))?"✓":"○"}),"Paso 5: Categoria desactivada no aparece en dropdown"]})]})]})]}),r&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true",children:(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Nueva Categoria"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"cat-name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Nombre ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{id:"cat-name",type:"text",value:c,onChange:e=>{n(e.target.value),g("")},placeholder:"Ej: DEACTIVATE_CAT_TEST",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500"}),m&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:m})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"cat-desc",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Descripcion (opcional)"}),(0,t.jsx)("textarea",{id:"cat-desc",value:o,onChange:e=>x(e.target.value),placeholder:"Descripcion de la categoria",rows:2,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,t.jsx)("button",{onClick:()=>{l(!1),n(""),x(""),g("")},className:"flex-1 py-2 px-4 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors font-medium",children:"Cancelar"}),(0,t.jsx)("button",{onClick:()=>{if(!c.trim()){g("El nombre es requerido");return}let r={id:Math.max(...e.map(e=>e.id))+1,nombre:c.trim(),descripcion:o.trim()||null,activa:!0,fechaCreacion:new Date().toISOString()};a([...e,r]),n(""),x(""),g(""),l(!1)},className:"flex-1 py-2 px-4 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium",children:"Crear"})]})]})})]})}}},function(e){e.O(0,[7648,2971,2117,1744],function(){return e(e.s=83424)}),_N_E=e.O()}]);