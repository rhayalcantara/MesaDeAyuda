(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8562],{65127:function(e,r,a){Promise.resolve().then(a.bind(a,30069))},30069:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return d}});var t=a(57437),s=a(2265),l=a(27648);let n=[{id:1,nombre:"Empresa Demo",activa:!0,colorPrimario:"#2563eb"},{id:2,nombre:"Corporacion ABC",activa:!0,colorPrimario:"#10b981"},{id:3,nombre:"Tech Solutions",activa:!0,colorPrimario:"#8b5cf6"}];function d(){var e;let[r,a]=(0,s.useState)(n),[d,o]=(0,s.useState)("login"),[i,c]=(0,s.useState)(!1),[m,x]=(0,s.useState)(""),[g,u]=(0,s.useState)(null),[p,b]=(0,s.useState)(""),[h,y]=(0,s.useState)(null),[k,j]=(0,s.useState)(!1),[f,N]=(0,s.useState)(!1),[v,w]=(0,s.useState)({nombre:"",email:"",rol:"Cliente"}),C={login:"login"!==d,"create-empresa":["go-to-form","verify-dropdown","complete"].includes(d),"go-to-form":["verify-dropdown","complete"].includes(d),"verify-dropdown":"complete"===d},E=r.filter(e=>e.activa);return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-8",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)(l.default,{href:"/demo",className:"text-primary-600 hover:text-primary-700 dark:text-primary-400 flex items-center gap-2 mb-4",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})}),"Volver a Demo"]}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Feature #28: Empresa dropdown populated from database"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Verifica que el dropdown de empresas muestra las empresas reales de la base de datos."})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Progreso del Test"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-4",children:[{key:"login",label:"Login Admin",num:"1"},{key:"create-empresa",label:"Crear Empresa",num:"2"},{key:"go-to-form",label:"Ir a Formulario",num:"3"},{key:"verify-dropdown",label:"Verificar Dropdown",num:"4-5"},{key:"complete",label:"Completado",num:"✓"}].map(e=>(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat(C[e.key]?"bg-green-500 text-white":d===e.key?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400"),children:C[e.key]?"✓":e.num}),(0,t.jsx)("span",{className:"text-xs mt-1 text-gray-600 dark:text-gray-400 text-center max-w-[80px]",children:e.label})]},e.key))})]}),p&&(0,t.jsxs)("div",{className:"mb-4 bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-800 rounded-lg p-4 flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-green-600 dark:text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,t.jsx)("span",{className:"text-green-700 dark:text-green-300",children:p})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Empresas en Base de Datos"}),(0,t.jsx)("div",{className:"space-y-2",children:r.map(e=>(0,t.jsx)("div",{className:"p-3 rounded-lg border ".concat(e.nombre===m?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-700"),children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.colorPrimario}}),(0,t.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:e.nombre}),e.nombre===m&&(0,t.jsx)("span",{className:"text-xs px-2 py-0.5 bg-green-500 text-white rounded-full",children:"NUEVA"})]}),(0,t.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat(e.activa?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"),children:e.activa?"Activa":"Inactiva"})]})},e.id))}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-4",children:["Total: ",r.length," empresas (",E.length," activas)"]})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Formulario de Nuevo Usuario"}),"login"===d&&(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Paso 1: Inicia sesion como Administrador"}),(0,t.jsx)("button",{onClick:()=>{c(!0),o("create-empresa"),b("Sesion iniciada como Admin"),setTimeout(()=>b(""),3e3)},className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 font-medium",children:"Iniciar Sesion como Admin"})]}),"create-empresa"===d&&(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Paso 2: Crea una nueva empresa con nombre unico"}),(0,t.jsxs)("button",{onClick:()=>{let e="TEST_EMPRESA_".concat(Date.now().toString(36).toUpperCase()),t={id:r.length+1,nombre:e,activa:!0,colorPrimario:"#ef4444"};a([...r,t]),u(t),x(e),o("go-to-form"),b('Empresa "'.concat(e,'" creada exitosamente')),setTimeout(()=>b(""),3e3)},className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium flex items-center gap-2 mx-auto",children:[(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Crear Empresa Unica"]})]}),"go-to-form"===d&&g&&(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 mb-4 text-left",children:[(0,t.jsx)("h4",{className:"font-medium text-green-800 dark:text-green-300 mb-2",children:"Empresa Creada:"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:g.colorPrimario}}),(0,t.jsx)("span",{className:"text-green-700 dark:text-green-400",children:g.nombre})]})]}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Paso 3: Ve al formulario de nuevo usuario"}),(0,t.jsx)("button",{onClick:()=>{o("verify-dropdown"),b("Navegando al formulario de nuevo usuario..."),setTimeout(()=>b(""),3e3)},className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 font-medium",children:"Ir a Formulario de Nuevo Usuario"})]}),("verify-dropdown"===d||"complete"===d)&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nombre del Usuario"}),(0,t.jsx)("input",{type:"text",disabled:!0,value:"Nuevo Cliente",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),(0,t.jsx)("input",{type:"email",disabled:!0,value:"cliente@ejemplo.com",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Rol"}),(0,t.jsx)("input",{type:"text",disabled:!0,value:"Cliente",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Empresa *"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{type:"button",onClick:()=>j(!k),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-left flex items-center justify-between",children:[(0,t.jsx)("span",{className:h?"text-gray-900 dark:text-white":"text-gray-500 dark:text-gray-400",children:h?null===(e=E.find(e=>e.id===h))||void 0===e?void 0:e.nombre:"Seleccionar empresa..."}),(0,t.jsx)("svg",{className:"w-5 h-5 text-gray-400 transition-transform ".concat(k?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),k&&(0,t.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:E.map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>{y(e.id),j(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-between ".concat(e.nombre===m?"bg-green-50 dark:bg-green-900/20":""),children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.colorPrimario}}),(0,t.jsx)("span",{className:"text-gray-900 dark:text-white",children:e.nombre})]}),e.nombre===m&&(0,t.jsx)("span",{className:"text-xs px-2 py-0.5 bg-green-500 text-white rounded-full",children:"NUEVA"})]},e.id))})]}),"verify-dropdown"===d&&(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mb-4 text-center",children:['Pasos 4-5: Abre el dropdown y verifica que la empresa "',m,'" aparece']}),(0,t.jsx)("button",{onClick:()=>{let e=r.some(e=>e.nombre===m);N(e),o("complete"),e?b('La empresa "'.concat(m,'" aparece correctamente en el dropdown')):b("Error: La empresa no aparece en el dropdown"),setTimeout(()=>b(""),5e3)},className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Verificar que la Empresa Aparece"})]})]})]}),"complete"===d&&(0,t.jsxs)("div",{className:"mt-6 text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center ".concat(f?"bg-green-100 dark:bg-green-900/30":"bg-red-100 dark:bg-red-900/30"),children:f?(0,t.jsx)("svg",{className:"w-8 h-8 text-green-600 dark:text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):(0,t.jsx)("svg",{className:"w-8 h-8 text-red-600 dark:text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,t.jsx)("h3",{className:"text-xl font-bold mb-2 ".concat(f?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:f?"TEST PASADO":"TEST FALLIDO"}),(0,t.jsx)("p",{className:"text-sm mb-4 ".concat(f?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:f?'La empresa "'.concat(m,'" aparece en el dropdown del formulario de usuarios.'):"La empresa no aparece en el dropdown."}),(0,t.jsx)("button",{onClick:()=>{a(n),o("login"),c(!1),x(""),u(null),y(null),j(!1),N(!1),b(""),w({nombre:"",email:"",rol:"Cliente"})},className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-medium",children:"Reiniciar Test"})]})]})]}),"complete"===d&&f&&(0,t.jsxs)("div",{className:"mt-6 bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-800 rounded-lg p-6",children:[(0,t.jsx)("h3",{className:"font-semibold text-green-800 dark:text-green-300 mb-3",children:"Resumen de Verificacion"}),(0,t.jsxs)("ul",{className:"space-y-2 text-sm text-green-700 dark:text-green-400",children:[(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-green-600",children:"✓"}),'Empresa "',m,'" creada en base de datos']}),(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-green-600",children:"✓"}),"Dropdown de empresas se actualizo automaticamente"]}),(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-green-600",children:"✓"}),"Nueva empresa visible y seleccionable en formulario de usuario"]}),(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-green-600",children:"✓"}),"Sincronizacion en tiempo real funcionando correctamente"]})]})]}),(0,t.jsxs)("div",{className:"mt-6 bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"font-semibold text-blue-800 dark:text-blue-300 mb-2",children:"Feature #28: Empresa dropdown populated from database"}),(0,t.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-400 mb-2",children:"Este test verifica que el dropdown de empresas muestra las empresas reales de la base de datos:"}),(0,t.jsxs)("ol",{className:"list-decimal list-inside text-sm text-blue-700 dark:text-blue-400 space-y-1",children:[(0,t.jsx)("li",{children:"Login as Admin"}),(0,t.jsx)("li",{children:"Create a new empresa 'TEST_EMPRESA_ABC'"}),(0,t.jsx)("li",{children:"Go to user creation form"}),(0,t.jsx)("li",{children:"Open empresa dropdown"}),(0,t.jsx)("li",{children:"Verify 'TEST_EMPRESA_ABC' appears in dropdown"})]})]})]})})}}},function(e){e.O(0,[7648,2971,2117,1744],function(){return e(e.s=65127)}),_N_E=e.O()}]);